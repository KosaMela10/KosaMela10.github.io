<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K√°v√©piaci Adatb√°zis & Analitika</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a120b; /* S√∂t√©tebb, pr√©mium h√°tt√©r */
            color: #e9e4d5;
            background-image: radial-gradient(circle at 10% 20%, #2c1e14 1px, transparent 0.5px);
            background-size: 20px 20px;
        }
        .glass-card {
            background: rgba(74, 53, 40, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(212, 163, 115, 0.2);
            transition: transform 0.2s ease;
        }
        .glass-card:hover { transform: translateY(-5px); }
        .chart-container { position: relative; height: 320px; width: 100%; }
    </style>
</head>
<body class="min-h-screen antialiased pb-12">

<header class="bg-[#2a1d13] shadow-2xl sticky top-0 z-50 border-b border-[#d4a373]">
    <div class="max-w-6xl mx-auto px-6 py-5 flex flex-col md:flex-row justify-between items-center gap-4">
        <h1 class="text-2xl font-black text-[#d4a373] tracking-tighter">
            COFFEE<span class="text-white">DATA</span> PRO 2026
        </h1>
        <div class="flex items-center gap-3">
            <label for="countrySelect" class="text-sm font-bold text-crema">ORSZ√ÅG V√ÅLT√ÅS:</label>
            <select id="countrySelect" class="bg-[#362518] border border-[#d4a373] text-white rounded-lg px-4 py-2 outline-none focus:ring-2 ring-[#d4a373]">
                <option value="Romania">Rom√°nia</option>
                <option value="Hungary">Magyarorsz√°g</option>
                <option value="Poland">Lengyelorsz√°g</option>
                <option value="Czechia">Csehorsz√°g</option>
            </select>
        </div>
    </div>
</header>

<main class="max-w-6xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-2 gap-8 mt-4">
    
    <div class="glass-card rounded-2xl p-6 lg:col-span-2">
        <h2 class="text-xl font-bold text-[#d4a373] mb-1">üìà Fogyaszt√°si Trendek (2019-2024)</h2>
        <p class="text-xs text-gray-400 mb-6">√âves k√°v√©fogyaszt√°s alakul√°sa kg/f≈ë egys√©gben m√©rve.</p>
        <div class="chart-container">
            <canvas id="trendChart"></canvas>
        </div>
    </div>

    <div class="glass-card rounded-2xl p-6">
        <h2 class="text-xl font-bold text-[#d4a373] mb-1">ü•ß Piaci Szegment√°ci√≥</h2>
        <p class="text-xs text-gray-400 mb-6">Bev√©tel megoszl√°sa: Otthoni vs. Vend√©gl√°t√°s.</p>
        <div class="chart-container flex items-center justify-center">
            <canvas id="pieChart"></canvas>
        </div>
    </div>

    <div class="glass-card rounded-2xl p-6">
        <h2 class="text-xl font-bold text-[#d4a373] mb-1">üìä Region√°lis Rangsor</h2>
        <p class="text-xs text-gray-400 mb-6">Aktu√°lis poz√≠ci√≥ a k√∂rnyez≈ë orsz√°gokhoz k√©pest.</p>
        <div class="chart-container">
            <canvas id="compareChart"></canvas>
        </div>
    </div>

</main>

<script>
    // --- B≈êV√çTETT ADATB√ÅZIS ---
    const coffeeDatabase = {
        Romania: {
            trend: [3.8, 3.9, 4.1, 4.3, 4.5, 4.6],
            marketShare: [35, 65],
            growth: 8.5
        },
        Hungary: {
            trend: [3.2, 3.1, 3.3, 3.4, 3.5, 3.6],
            marketShare: [45, 55],
            growth: 5.0
        },
        Poland: {
            trend: [3.5, 3.6, 3.7, 3.8, 3.9, 4.0],
            marketShare: [50, 50],
            growth: 6.2
        },
        Czechia: {
            trend: [5.0, 5.1, 5.0, 5.2, 5.4, 5.5],
            marketShare: [30, 70],
            growth: 4.8
        }
    };

    const labels2019to2024 = ['2019', '2020', '2021', '2022', '2023', '2024'];
    const colors = { crema: '#d4a373', mocha: '#795548', espresso: '#362518', white: '#e9e4d5' };

    // Chart p√©ld√°nyok t√°rol√°sa a friss√≠t√©shez
    let trendChart, pieChart, compareChart;

    function initCharts(country) {
        const data = coffeeDatabase[country];

        // 1. Trend Chart (Line)
        const ctx1 = document.getElementById('trendChart').getContext('2d');
        trendChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: labels2019to2024,
                datasets: [{
                    label: `${country} - Kg/f≈ë`,
                    data: data.trend,
                    borderColor: colors.crema,
                    backgroundColor: 'rgba(212, 163, 115, 0.2)',
                    fill: true,
                    tension: 0.4,
                    borderWidth: 4,
                    pointRadius: 6,
                    pointBackgroundColor: colors.crema
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: '#fff' } } },
                scales: {
                    y: { grid: { color: '#2c1e14' }, ticks: { color: '#aaa' } },
                    x: { grid: { display: false }, ticks: { color: '#aaa' } }
                }
            }
        });

        // 2. Pie Chart
        const ctx2 = document.getElementById('pieChart').getContext('2d');
        pieChart = new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['Otthoni', 'K√°v√©z√≥/Horeca'],
                datasets: [{
                    data: data.marketShare,
                    backgroundColor: [colors.mocha, colors.crema],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom', labels: { color: '#fff', padding: 20 } } }
            }
        });

        // 3. Comparison Chart
        const ctx3 = document.getElementById('compareChart').getContext('2d');
        compareChart = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: ['Rom√°nia', 'Magyarorsz√°g', 'Lengyelorsz√°g', 'Csehorsz√°g'],
                datasets: [{
                    label: '2024 Fogyaszt√°s (kg)',
                    data: [4.6, 3.6, 4.0, 5.5],
                    backgroundColor: [
                        country === 'Romania' ? colors.crema : '#4a3528',
                        country === 'Hungary' ? colors.crema : '#4a3528',
                        country === 'Poland' ? colors.crema : '#4a3528',
                        country === 'Czechia' ? colors.crema : '#4a3528'
                    ],
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#2c1e14' }, ticks: { color: '#aaa' } },
                    x: { ticks: { color: '#aaa' } }
                }
            }
        });
    }

    // Friss√≠t√©s funkci√≥
    function updateCharts(country) {
        const newData = coffeeDatabase[country];
        
        // Trend friss√≠t√©se
        trendChart.data.datasets[0].label = `${country} - Kg/f≈ë`;
        trendChart.data.datasets[0].data = newData.trend;
        trendChart.update();

        // Pie friss√≠t√©se
        pieChart.data.datasets[0].data = newData.marketShare;
        pieChart.update();

        // Compare kiemel√©s friss√≠t√©se
        compareChart.data.datasets[0].backgroundColor = [
            country === 'Romania' ? colors.crema : '#4a3528',
            country === 'Hungary' ? colors.crema : '#4a3528',
            country === 'Poland' ? colors.crema : '#4a3528',
            country === 'Czechia' ? colors.crema : '#4a3528'
        ];
        compareChart.update();
    }

    // Esem√©nykezel≈ë a v√°laszt√≥hoz
    document.getElementById('countrySelect').addEventListener('change', (e) => {
        updateCharts(e.target.value);
    });

    // Ind√≠t√°s
    window.onload = () => initCharts('Romania');
</script>

</body>
</html>
